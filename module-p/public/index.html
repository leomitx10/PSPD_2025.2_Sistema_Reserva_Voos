<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Reservas - Voos e Hot√©is</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>üõ´ Sistema de Reservas</h1>
            <p>Encontre os melhores voos e hot√©is para sua viagem</p>
        </header>

        <div class="tabs">
            <button class="tab-btn active" onclick="showTab('flights')">‚úàÔ∏è Voos</button>
            <button class="tab-btn" onclick="showTab('hotels')">üè® Hot√©is</button>
            <button class="tab-btn" onclick="showTab('packages')">üì¶ Pacotes</button>
        </div>

        <!-- ============ TAB DE VOOS ============ -->
        <div id="flights-tab" class="tab-content active">
            <div class="search-form">
                <h2>Buscar Voos</h2>
                <form id="flight-form">
                    <!-- Tipo de Viagem -->
                    <div class="form-row">
                        <div class="form-group full-width">
                            <label>Tipo de Viagem</label>
                            <div class="radio-group">
                                <label class="radio-option">
                                    <input type="radio" name="trip_type" value="oneway" checked>
                                    <span>S√≥ Ida</span>
                                </label>
                                <label class="radio-option">
                                    <input type="radio" name="trip_type" value="roundtrip">
                                    <span>Ida e Volta</span>
                                </label>
                            </div>
                        </div>
                    </div>

                    <!-- Origem e Destino -->
                    <div class="form-row">
                        <div class="form-group">
                            <label>Origem *</label>
                            <input type="text" id="flight-origin" list="cities-list" placeholder="Ex: S√£o Paulo" required>
                        </div>
                        <div class="form-group">
                            <label>Destino *</label>
                            <input type="text" id="flight-destination" list="cities-list" placeholder="Ex: Rio de Janeiro" required>
                        </div>
                    </div>

                    <!-- Datas -->
                    <div class="form-row">
                        <div class="form-group">
                            <label>Data de Ida *</label>
                            <input type="date" id="flight-departure-date" required>
                        </div>
                        <div class="form-group" id="return-date-group" style="display: none;">
                            <label>Data de Volta</label>
                            <input type="date" id="flight-return-date">
                        </div>
                    </div>

                    <!-- Passageiros e Classe -->
                    <div class="form-row">
                        <div class="form-group">
                            <label>Passageiros</label>
                            <input type="number" id="flight-passengers" value="1" min="1" max="9">
                        </div>
                        <div class="form-group">
                            <label>Classe</label>
                            <select id="flight-class">
                                <option value="">Todas</option>
                                <option value="Econ√¥mica">Econ√¥mica</option>
                                <option value="Executiva">Executiva</option>
                                <option value="Primeira Classe">Primeira Classe</option>
                            </select>
                        </div>
                    </div>

                    <!-- Filtros Adicionais -->
                    <div class="form-row">
                        <div class="form-group">
                            <label>Companhia A√©rea</label>
                            <select id="flight-companhia">
                                <option value="">Todas</option>
                                <option value="LATAM">LATAM</option>
                                <option value="GOL">GOL</option>
                                <option value="Azul">Azul</option>
                                <option value="TAM">TAM</option>
                                <option value="Avianca">Avianca</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Hor√°rio</label>
                            <select id="flight-horario">
                                <option value="">Qualquer</option>
                                <option value="manha">Manh√£ (6h-12h)</option>
                                <option value="tarde">Tarde (12h-18h)</option>
                                <option value="noite">Noite (18h-0h)</option>
                            </select>
                        </div>
                    </div>

                    <!-- Or√ßamento e Ordena√ß√£o -->
                    <div class="form-row">
                        <div class="form-group">
                            <label>Or√ßamento M√°ximo (R$)</label>
                            <input type="number" id="flight-budget" placeholder="Ex: 1000">
                        </div>
                        <div class="form-group">
                            <label>Ordenar por</label>
                            <select id="flight-ordenacao">
                                <option value="preco">Menor Pre√ßo</option>
                                <option value="horario">Hor√°rio</option>
                                <option value="duracao">Dura√ß√£o</option>
                            </select>
                        </div>
                    </div>

                    <!-- Toggle Datas Flex√≠veis -->
                    <div class="form-row">
                        <div class="form-group full-width">
                            <label class="toggle-label">
                                <input type="checkbox" id="flexible-dates-toggle">
                                <span>üîç Buscar data mais barata (datas flex√≠veis)</span>
                            </label>
                        </div>
                    </div>

                    <button type="submit" class="btn-search">üîç Buscar Voos</button>
                    <a href="#packages-tab" class="btn-secondary" onclick="showTab('packages')">
                        üì¶ Ver Pacotes (Voo + Hotel) com at√© 30% de desconto
                    </a>
                </form>
            </div>
            <div id="flight-results" class="results"></div>
        </div>

        <!-- ============ TAB DE HOT√âIS ============ -->
        <div id="hotels-tab" class="tab-content">
            <div class="search-form">
                <h2>Buscar Hospedagens</h2>
                <form id="hotel-form">
                    <!-- Destino -->
                    <div class="form-row">
                        <div class="form-group full-width">
                            <label>Destino *</label>
                            <input type="text" id="hotel-destination" list="cities-list" placeholder="Ex: Rio de Janeiro" required>
                        </div>
                    </div>

                    <!-- Check-in e Check-out -->
                    <div class="form-row">
                        <div class="form-group">
                            <label>Check-in *</label>
                            <input type="date" id="hotel-checkin" required>
                        </div>
                        <div class="form-group">
                            <label>Check-out *</label>
                            <input type="date" id="hotel-checkout" required>
                        </div>
                    </div>

                    <!-- Quartos e H√≥spedes -->
                    <div class="form-row">
                        <div class="form-group">
                            <label>Quartos</label>
                            <input type="number" id="hotel-rooms" value="1" min="1" max="10">
                        </div>
                        <div class="form-group">
                            <label>H√≥spedes *</label>
                            <input type="number" id="hotel-guests" value="2" min="1" max="20" required>
                        </div>
                    </div>

                    <!-- Tipo e Estrelas -->
                    <div class="form-row">
                        <div class="form-group">
                            <label>Tipo de Acomoda√ß√£o</label>
                            <select id="hotel-type">
                                <option value="">Todos</option>
                                <option value="Hotel">Hotel</option>
                                <option value="Pousada">Pousada</option>
                                <option value="Resort">Resort</option>
                                <option value="Hostel">Hostel</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Avalia√ß√£o M√≠nima</label>
                            <select id="hotel-min-rating">
                                <option value="0">Qualquer</option>
                                <option value="1">1‚≠ê</option>
                                <option value="2">2‚≠ê</option>
                                <option value="3">3‚≠ê</option>
                                <option value="4">4‚≠ê</option>
                                <option value="5">5‚≠ê</option>
                            </select>
                        </div>
                    </div>

                    <!-- Or√ßamento e Ordena√ß√£o -->
                    <div class="form-row">
                        <div class="form-group">
                            <label>Or√ßamento M√°ximo (R$/noite)</label>
                            <input type="number" id="hotel-budget" placeholder="Ex: 500">
                        </div>
                        <div class="form-group">
                            <label>Ordenar por</label>
                            <select id="hotel-order">
                                <option value="price">Menor Pre√ßo</option>
                                <option value="rating">Avalia√ß√£o</option>
                            </select>
                        </div>
                    </div>

                    <!-- Toggle Datas Flex√≠veis -->
                    <div class="form-row">
                        <div class="form-group full-width">
                            <label class="toggle-label">
                                <input type="checkbox" id="flexible-stay-toggle">
                                <span>üîç Buscar melhores ofertas (datas flex√≠veis)</span>
                            </label>
                        </div>
                    </div>

                    <button type="submit" class="btn-search">üîç Buscar Hospedagens</button>
                    <a href="#packages-tab" class="btn-secondary" onclick="showTab('packages')">
                        üì¶ Ver Pacotes (Voo + Hotel) com at√© 30% de desconto
                    </a>
                </form>
            </div>
            <div id="hotel-results" class="results"></div>
        </div>

        <!-- ============ TAB DE PACOTES ============ -->
        <div id="packages-tab" class="tab-content">
            <div class="search-form">
                <h2>Buscar Pacotes Completos (Voo + Hotel)</h2>
                <form id="package-form">
                    <!-- Origem e Destino -->
                    <div class="form-row">
                        <div class="form-group">
                            <label>Origem *</label>
                            <input type="text" id="package-origin" list="cities-list" placeholder="Ex: S√£o Paulo" required>
                        </div>
                        <div class="form-group">
                            <label>Destino *</label>
                            <input type="text" id="package-destination" list="cities-list" placeholder="Ex: Rio de Janeiro" required>
                        </div>
                    </div>

                    <!-- Datas -->
                    <div class="form-row">
                        <div class="form-group">
                            <label>Data de Ida *</label>
                            <input type="date" id="package-start-date" required>
                        </div>
                        <div class="form-group">
                            <label>Data de Volta *</label>
                            <input type="date" id="package-end-date" required>
                        </div>
                    </div>

                    <!-- Quartos e H√≥spedes -->
                    <div class="form-row">
                        <div class="form-group">
                            <label>Quartos</label>
                            <input type="number" id="package-rooms" value="1" min="1" max="10">
                        </div>
                        <div class="form-group">
                            <label>H√≥spedes *</label>
                            <input type="number" id="package-guests" value="2" min="1" max="20" required>
                        </div>
                    </div>

                    <!-- Filtros Adicionais -->
                    <div class="form-row">
                        <div class="form-group">
                            <label>Classe do Voo</label>
                            <select id="package-flight-class">
                                <option value="">Todas</option>
                                <option value="Econ√¥mica">Econ√¥mica</option>
                                <option value="Executiva">Executiva</option>
                                <option value="Primeira Classe">Primeira Classe</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Avalia√ß√£o M√≠nima (Hotel)</label>
                            <select id="package-min-rating">
                                <option value="0">Qualquer</option>
                                <option value="1">1‚≠ê</option>
                                <option value="2">2‚≠ê</option>
                                <option value="3">3‚≠ê</option>
                                <option value="4">4‚≠ê</option>
                                <option value="5">5‚≠ê</option>
                            </select>
                        </div>
                    </div>

                    <!-- Or√ßamento -->
                    <div class="form-row">
                        <div class="form-group full-width">
                            <label>Or√ßamento Total M√°ximo (R$)</label>
                            <input type="number" id="package-budget" placeholder="Ex: 3000">
                        </div>
                    </div>

                    <!-- Toggle Pacotes Mais Baratos -->
                    <div class="form-row">
                        <div class="form-group full-width">
                            <label class="toggle-label">
                                <input type="checkbox" id="flexible-package-toggle">
                                <span>üîç Buscar pacotes mais baratos (datas flex√≠veis)</span>
                            </label>
                        </div>
                    </div>

                    <button type="submit" class="btn-search">üîç Buscar Pacotes</button>
                </form>
            </div>
            <div id="package-results" class="results"></div>
        </div>

        <!-- Datalist para cidades -->
        <datalist id="cities-list">
            <option value="S√£o Paulo">
            <option value="Rio de Janeiro">
            <option value="Bras√≠lia">
            <option value="Belo Horizonte">
            <option value="Salvador">
            <option value="Recife">
            <option value="Fortaleza">
            <option value="Manaus">
            <option value="Porto Alegre">
        </datalist>

        <div id="loading" class="loading" style="display: none;">
            <div class="spinner"></div>
            <!-- <p>Buscando melhores op√ß√µes...</p> -->
        </div>
    </div>

    <!-- ============ BOT√ïES FIXOS ============ -->
    <div class="fixed-buttons">
        <button class="fixed-btn" id="cart-btn" onclick="openModal('cart-modal')" title="Carrinho de Compras">
            üõí
            <span class="badge-count" id="cart-count" style="display: none;">0</span>
        </button>
        <button class="fixed-btn" id="monitor-btn" onclick="openModal('monitor-modal')" title="Monitorar Voo">
            üì°
        </button>
        <button class="fixed-btn" id="chat-btn" onclick="openChatModal()" title="Chat Suporte">
            üí¨
        </button>
    </div>

    <!-- ============ MODAL DE CARRINHO ============ -->
    <div id="cart-modal" class="modal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h2>üõí Carrinho de Compras</h2>
                <button class="modal-close" onclick="closeModal('cart-modal')">‚úï</button>
            </div>
            <div class="modal-body">
                <div id="empty-cart" class="empty-state">
                    <p>Seu carrinho est√° vazio</p>
                </div>
                <div id="cart-content" style="display: none;">
                    <div id="cart-items"></div>
                    <div class="cart-footer">
                        <div class="cart-total-section">
                            <span class="total-label">Total:</span>
                            <span class="total-value" id="cart-total">R$ 0,00</span>
                        </div>
                        <button class="btn-action btn-primary btn-large" onclick="finalizarCompra()">
                            ‚úÖ Finalizar Compra
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ============ MODAL DE CONFIRMA√á√ÉO DE RESERVA ============ -->
    <div id="confirm-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Confirmar Reserva</h2>
                <button class="modal-close" onclick="closeModal('confirm-modal')">‚úï</button>
            </div>
            <div class="modal-body">
                <div class="confirm-details">
                    <div class="confirm-type" id="confirm-item-type"></div>
                    <h3 id="confirm-item-title"></h3>
                    <p id="confirm-item-subtitle"></p>
                    <div class="confirm-price">
                        <span class="price-label">Valor:</span>
                        <span class="price-value" id="confirm-item-price"></span>
                    </div>
                </div>
                <p class="confirm-message">Deseja adicionar este item ao carrinho?</p>
                <div class="modal-actions">
                    <button class="btn-secondary" onclick="closeModal('confirm-modal')">Cancelar</button>
                    <button class="btn-action btn-primary" id="btn-confirm-reservation">Adicionar ao Carrinho</button>
                </div>
            </div>
        </div>
    </div>

    <!-- ============ MODAL DE MONITORAMENTO DE VOO ============ -->
    <div id="monitor-modal" class="modal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h2>üì° Monitoramento de Voo</h2>
                <button class="modal-close" onclick="closeModal('monitor-modal')">‚úï</button>
            </div>
            <div class="modal-body">
                <!-- Formul√°rio para informar c√≥digo do voo -->
                <div id="monitor-input-section">
                    <div class="form-group">
                        <label>C√≥digo do Voo *</label>
                        <input type="text" id="monitor-flight-code" placeholder="Ex: LA3090, G31234, AZ5678" />
                    </div>
                    <button class="btn-action btn-primary btn-large" onclick="startMonitoringFromInput()">
                        Iniciar Monitoramento
                    </button>
                </div>

                <!-- Se√ß√£o de atualiza√ß√µes (oculta inicialmente) -->
                <div id="monitor-tracking-section" style="display: none;">
                    <div class="monitor-info">
                        <h3>Voo: <span id="monitor-flight-number"></span></h3>
                        <div class="progress-bar-container">
                            <div class="progress-bar" id="monitor-progress"></div>
                        </div>
                    </div>
                    <div class="monitor-updates-container">
                        <h4>Atualiza√ß√µes em Tempo Real</h4>
                        <div id="monitor-updates" class="monitor-updates"></div>
                    </div>
                    <!-- Bot√£o para novo monitoramento (oculto inicialmente) -->
                    <div class="monitor-actions" style="margin-top: 20px;">
                        <button id="new-monitoring-btn" class="btn-secondary btn-large" onclick="resetMonitoring()" style="display: none;">
                            Novo Monitoramento
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ============ MODAL DE CHAT SUPORTE ============ -->
    <div id="chat-modal" class="modal">
        <div class="modal-content modal-chat">
            <div class="modal-header">
                <h2>üí¨ Chat de Suporte</h2>
                <button class="modal-close" onclick="closeModal('chat-modal')">‚úï</button>
            </div>
            <div class="modal-body chat-body">
                <div id="chat-messages" class="chat-messages"></div>
                <div class="chat-input-container">
                    <input type="text" id="chat-input" placeholder="Digite sua mensagem..." />
                    <button class="btn-send" onclick="sendChatMessage()">Enviar</button>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
